<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bible Text Comparison Tool</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .description {
            color: #7f8c8d;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .input-section {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .bible-selector, .text-input {
            flex: 1;
            min-width: 300px;
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            margin-bottom: 15px;
        }
        
        textarea {
            height: 200px;
            resize: vertical;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .results-section {
            margin-top: 30px;
            display: none;
        }
        
        .percentage-display {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eaeaea;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        
        .word-count {
            font-weight: bold;
            color: #3498db;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .input-section {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Bible Text Comparison Tool</h1>
            <p class="description">Compare your text with different Bible versions to see the percentage of unique words that match.</p>
        </header>
        
        <section class="input-section">
            <div class="bible-selector">
                <h2>Select Bible Version</h2>
                <select id="bible-version">
                    <option value="kjv">King James Version (KJV)</option>
                    <option value="niv">New International Version (NIV)</option>
                    <option value="esv">English Standard Version (ESV)</option>
                    <option value="nasb">New American Standard Bible (NASB)</option>
                    <option value="nlt">New Living Translation (NLT)</option>
                </select>
                <div id="bible-info">
                    <p>Select a Bible version to compare with your text</p>
                </div>
            </div>
            
            <div class="text-input">
                <h2>Enter Your Text</h2>
                <textarea id="user-text">In the beginning God created the heaven and the earth. And the earth was without form, and void; and darkness was upon the face of the deep.</textarea>
                <button id="compare-btn">Compare Texts</button>
            </div>
        </section>
        
        <section class="results-section" id="results-section">
            <h2>Comparison Results</h2>
            
            <div class="percentage-display" id="percentage-result"></div>
            
            <table id="results-table">
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Count</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            
            <div style="margin-top: 30px;">
                <h3>Common Words</h3>
                <p id="common-words"></p>
            </div>
        </section>
        
        <footer>
            <p>Bible Text Comparison Tool &copy; 2025</p>
        </footer>
    </div>

    <script>
        // Simple Bible texts (no external files needed)
        const bibleTexts = {
            kjv: "In the beginning God created the heaven and the earth. And the earth was without form, and void; and darkness was upon the face of the deep. And the Spirit of God moved upon the face of the waters. And God said, Let there be light: and there was light. And God saw the light, that it was good: and God divided the light from the darkness.",
            niv: "In the beginning God created the heavens and the earth. Now the earth was formless and empty, darkness was over the surface of the deep, and the Spirit of God was hovering over the waters. And God said, 'Let there be light,' and there was light. God saw that the light was good, and he separated the light from the darkness.",
            esv: "In the beginning, God created the heavens and the earth. The earth was without form and void, and darkness was over the face of the deep. And the Spirit of God was hovering over the face of the waters. And God said, 'Let there be light,' and there was light. And God saw that the light was good. And God separated the light from the darkness.",
            nasb: "In the beginning God created the heavens and the earth. And the earth was a formless and desolate emptiness, and darkness was over the surface of the deep, and the Spirit of God was hovering over the surface of the waters. Then God said, 'Let there be light'; and there was light. God saw that the light was good; and God separated the light from the darkness.",
            nlt: "In the beginning God created the heavens and the earth. The earth was formless and empty, and darkness covered the deep waters. And the Spirit of God was hovering over the surface of the waters. Then God said, 'Let there be light,' and there was light. And God saw that the light was good. Then he separated the light from the darkness."
        };

        // Get DOM elements
        const bibleVersionSelect = document.getElementById('bible-version');
        const userTextArea = document.getElementById('user-text');
        const compareButton = document.getElementById('compare-btn');
        const resultsSection = document.getElementById('results-section');
        const percentageResult = document.getElementById('percentage-result');
        const resultsTable = document.getElementById('results-table');
        const commonWordsElement = document.getElementById('common-words');

        // Add event listener to button
        compareButton.addEventListener('click', function() {
            const selectedVersion = bibleVersionSelect.value;
            const userText = userTextArea.value.trim();
            
            if (!userText) {
                alert('Please enter some text to compare.');
                return;
            }
            
            const bibleText = bibleTexts[selectedVersion] || bibleTexts.kjv;
            const result = calculateWordOverlap(bibleText, userText);
            displayResults(result, selectedVersion);
        });

        // Calculate word overlap
        function calculateWordOverlap(text1, text2) {
            // Clean and split into words
            const cleanText = (text) => {
                return text.toLowerCase()
                    .replace(/[^\w\s]/g, ' ')
                    .replace(/\s+/g, ' ')
                    .trim();
            };
            
            const words1 = cleanText(text1).split(' ').filter(word => word.length > 0);
            const words2 = cleanText(text2).split(' ').filter(word => word.length > 0);
            
            const uniqueWords1 = [...new Set(words1)];
            const uniqueWords2 = [...new Set(words2)];
            
            const commonWords = uniqueWords1.filter(word => uniqueWords2.includes(word));
            
            const percentage = uniqueWords1.length > 0 ? 
                (commonWords.length / uniqueWords1.length) * 100 : 0;
            
            return {
                uniqueWords1: uniqueWords1.length,
                uniqueWords2: uniqueWords2.length,
                commonWords: commonWords.length,
                percentage: percentage,
                commonWordsList: commonWords.sort()
            };
        }

        // Display results
        function displayResults(result, version) {
            resultsSection.style.display = 'block';
            percentageResult.textContent = `${result.percentage.toFixed(2)}% Match`;
            
            const tbody = resultsTable.querySelector('tbody');
            tbody.innerHTML = `
                <tr>
                    <td>Unique words in Bible version</td>
                    <td class="word-count">${result.uniqueWords1}</td>
                </tr>
                <tr>
                    <td>Unique words in your text</td>
                    <td class="word-count">${result.uniqueWords2}</td>
                </tr>
                <tr>
                    <td>Common words</td>
                    <td class="word-count">${result.commonWords}</td>
                </tr>
            `;
            
            commonWordsElement.textContent = result.commonWordsList.length > 0 ? 
                result.commonWordsList.join(', ') : 'No common words found.';
            
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize with sample comparison
        window.addEventListener('load', function() {
            // Auto-run comparison on page load
            compareButton.click();
        });
    </script>
</body>
</html>